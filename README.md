This is the base for the magic circle detection program in DungeonMages.